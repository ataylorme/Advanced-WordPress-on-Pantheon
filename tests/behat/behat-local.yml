# behat.yml
default:
  suites:
    default:
      paths:
        - ./tests/behat
      contexts:
        - Behat\MinkExtension\Context\MinkContext
        - PaulGibbs\WordpressBehatExtension\Context\ContentContext
        - PaulGibbs\WordpressBehatExtension\Context\DashboardContext
        - PaulGibbs\WordpressBehatExtension\Context\SiteContext
        - PaulGibbs\WordpressBehatExtension\Context\UserContext
        - PaulGibbs\WordpressBehatExtension\Context\WordpressContext
        - PaulGibbs\WordpressBehatExtension\Context\EditPostContext
        - PaulGibbs\WordpressBehatExtension\Context\WidgetContext

  extensions:
    Behat\MinkExtension:
      # lando runs on https://nginx
      # See https://docs.devwithlando.io/tutorials/lando-pantheon-workflow.html#configuring-behat-and-travis
      base_url: https://nginx/
      browser_name: chrome
      default_session: default
      javascript_session: selenium2
      sessions:
        default:
          goutte:
            guzzle_parameters:
              verify: false  # Allow self-signed SSL certificates
        selenium2:
          selenium2: ~

    PaulGibbs\WordpressBehatExtension:
      site_url: https://nginx/wp
      users:
        admin:
          username: admin
          password: admin
      wpcli:
        binary: wp
      default_driver: wpcli
      path: web/wp
